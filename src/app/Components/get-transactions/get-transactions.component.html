<div class="container-fluid mt-4">
  <div class="transaction-filter text-white p-4 rounded shadow" style="background-color: #343a40;">
    <h2 class="mb-4">Filter Transactions by Date</h2>
    <div class="input-group mb-3">
      <input 
        type="date" 
        class="form-control"
        [(ngModel)]="date" 
        placeholder="Enter date" 
        required
      />
      <button (click)="fetchTransactions()" class="btn btn-primary ms-2">Filter</button>
    </div>

    <div *ngIf="totalCount > 0" class="mt-4">
      <h3>Total Transactions: {{ totalCount }}</h3>
      
      <table class="table table-dark table-striped table-hover mt-3">
        <thead>
          <tr>
            <th>Transaction ID</th>
            <th>Date</th>
            <th>Product Name</th>
            <th>Quantity</th>
            <th>Unit</th>
            <th>Total Price</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let transaction of transactions">
            <td>{{ transaction.id }}</td>
            <td>{{ transaction.date | date: 'yyyy-MM-dd' }}</td>
            <ng-container *ngFor="let product of transaction.productTransactions">
              <td>{{ product.productName }}</td>
              <td>{{ product.quantity }}</td>
              <td>{{ product.unit }}</td>
              <td>{{ product.totalPrice | currency }}</td>
            </ng-container>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
